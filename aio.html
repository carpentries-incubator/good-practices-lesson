<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Good practices in research software development: All in One View</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="assets/styles.css">
<script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="favicons/incubator/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicons/incubator/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicons/incubator/favicon-16x16.png">
<link rel="manifest" href="favicons/incubator/site.webmanifest">
<link rel="mask-icon" href="favicons/incubator/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="black">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md top-nav incubator"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="incubator-logo" alt="Carpentries Incubator" src="assets/images/incubator-logo.svg"><span class="badge text-bg-danger">
          <abbr title="This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.">
            <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#early-development-pre-alpha-through-alpha" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="border-radius: 5px"></i>
              Pre-Alpha
            </a>
            <span class="visually-hidden">This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
<li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul>
</li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/aio.html';">Instructor View</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Carpentries Incubator" src="assets/images/incubator-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      Good practices in research software development
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            Good practices in research software development
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul>
</li>
      </ul>
</div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Good practices in research software development
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: %" aria-valuenow="" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text">
<li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul>
</li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/aio.html">Instructor View</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->

            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="1-intro.html">1. Introduction to good practices in research software development</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="2-modular-code.html">2. Modular Code Development</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="3-documentation.html">3. Document your research software</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="4-testing.html">4. Testing</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="5-ci.html">5. Continuous Integration</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="reference.html">Reference</a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources">
<a href="aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">

            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-1-intro"><p>Content from <a href="1-intro.html">Introduction to good practices in research software development</a></p>
<hr>
<p>Last updated on 2025-02-25 |

        <a href="https://github.com/esciencecenter-digital-skills/good-practices-lesson/edit/main/episodes/1-intro.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What are benefits of applying software engineering good
practices?</li>
<li>How does software engineering differ from programming?</li>
<li>When to use which tools?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Understand the benefits of applying software engineering good
practices</li>
<li>Understand the key characteristics that make code modular and why it
is advantageous.</li>
<li>Know when to use which software engineering tools.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<p>Look through <a href="https://esciencecenter-digital-skills.github.io/digital-skills-slides/modules/good-practices-lesson/good-practices-slides" class="external-link">these
introduction slides</a>.</p>
<p>Initially, without software engineering tools, development speed is
high, but it quickly drops as the project grows more complex.</p>
<p>Instead, if you use the right tools and skills the development speed
will be slower at first because of the necessary setup, but increases as
you get further in a project.</p>
<p>Nevertheless, all projects are different. A lot of the tools and
skills we teach are useful in complex long-running projects, but can add
unnecessary overhead in short-lived, simple projects.</p>
<p>We will refer to this line of thought throughout the workshop.</p>
<div id="discussion" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="discussion" class="callout-inner">
<h3 class="callout-title">Discussion</h3>
<div class="callout-content">
<p>Which good practices are relevant for your project and why?</p>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Software engineering tools and skills can increase development speed
over time</li>
<li>You do not always need to apply all the best practices. For simple
short-lived projects it is not always worth the investment.</li>
</ul>
</div>
</div>
</div></section><section id="aio-2-modular-code"><p>Content from <a href="2-modular-code.html">Modular Code Development</a></p>
<hr>
<p>Last updated on 2025-03-12 |

        <a href="https://github.com/esciencecenter-digital-skills/good-practices-lesson/edit/main/episodes/2-modular-code.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What are the benefits of writing modular code in terms of
maintenance and scalability?</li>
<li>How can nested code be targeted and improved through
modularization?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Understand the key characteristics that make code modular and why it
is advantageous.</li>
<li>Learn strategies for identifying potential modules within complex
code to improve readability and reusability.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="what-is-modularity">What is modularity?<a class="anchor" aria-label="anchor" href="#what-is-modularity"></a>
</h2>
<hr class="half-width">
<p>Modularity refers to the practice of building software from smaller,
self-contained, and independent elements. Each element is designed to
handle a specific set of tasks, contributing to the overall
functionality of the system.</p>
<p>We will explain modular coding in the slides. You can view the slides
<a href="https://esciencecenter-digital-skills.github.io/digital-skills-slides/modules/good-practices-lesson/modular-code-slides" class="external-link">here</a>.</p>
<div id="modularity-20-min" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="modularity-20-min" class="callout-inner">
<h3 class="callout-title">Modularity (20 min)</h3>
<div class="callout-content">
<p>Carefully review the following code snippet:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="kw">def</span> convert_temperature(temperature, unit):</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>    <span class="cf">if</span> unit <span class="op">==</span> <span class="st">"F"</span>:</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>        <span class="co"># Convert Fahrenheit to Celsius</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>        celsius <span class="op">=</span> (temperature <span class="op">-</span> <span class="dv">32</span>) <span class="op">*</span> (<span class="dv">5</span> <span class="op">/</span> <span class="dv">9</span>)</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>        <span class="cf">if</span> celsius <span class="op">&lt;</span> <span class="op">-</span><span class="fl">273.15</span>:</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a>            <span class="co"># Invalid temperature, below absolute zero</span></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a>            <span class="cf">return</span> <span class="st">"Invalid temperature"</span></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>            <span class="co"># Convert Celsius to Kelvin</span></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a>            kelvin <span class="op">=</span> celsius <span class="op">+</span> <span class="fl">273.15</span></span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a>            <span class="cf">if</span> kelvin <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a>                <span class="co"># Invalid temperature, below absolute zero</span></span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a>                <span class="cf">return</span> <span class="st">"Invalid temperature"</span></span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a>            <span class="cf">else</span>:</span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a>                fahrenheit <span class="op">=</span> (celsius <span class="op">*</span> (<span class="dv">9</span> <span class="op">/</span> <span class="dv">5</span>)) <span class="op">+</span> <span class="dv">32</span></span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a>                <span class="cf">if</span> fahrenheit <span class="op">&lt;</span> <span class="op">-</span><span class="fl">459.67</span>:</span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a>                    <span class="co"># Invalid temperature, below absolute zero</span></span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a>                    <span class="cf">return</span> <span class="st">"Invalid temperature"</span></span>
<span id="cb1-19"><a href="#cb1-19" tabindex="-1"></a>                <span class="cf">else</span>:</span>
<span id="cb1-20"><a href="#cb1-20" tabindex="-1"></a>                    <span class="cf">return</span> celsius, kelvin</span>
<span id="cb1-21"><a href="#cb1-21" tabindex="-1"></a>    <span class="cf">elif</span> unit <span class="op">==</span> <span class="st">"C"</span>:</span>
<span id="cb1-22"><a href="#cb1-22" tabindex="-1"></a>        <span class="co"># Convert Celsius to Fahrenheit</span></span>
<span id="cb1-23"><a href="#cb1-23" tabindex="-1"></a>        fahrenheit <span class="op">=</span> (temperature <span class="op">*</span> (<span class="dv">9</span> <span class="op">/</span> <span class="dv">5</span>)) <span class="op">+</span> <span class="dv">32</span></span>
<span id="cb1-24"><a href="#cb1-24" tabindex="-1"></a>        <span class="cf">if</span> fahrenheit <span class="op">&lt;</span> <span class="op">-</span><span class="fl">459.67</span>:</span>
<span id="cb1-25"><a href="#cb1-25" tabindex="-1"></a>            <span class="co"># Invalid temperature, below absolute zero</span></span>
<span id="cb1-26"><a href="#cb1-26" tabindex="-1"></a>            <span class="cf">return</span> <span class="st">"Invalid temperature"</span></span>
<span id="cb1-27"><a href="#cb1-27" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb1-28"><a href="#cb1-28" tabindex="-1"></a>            <span class="co"># Convert Celsius to Kelvin</span></span>
<span id="cb1-29"><a href="#cb1-29" tabindex="-1"></a>            kelvin <span class="op">=</span> temperature <span class="op">+</span> <span class="fl">273.15</span></span>
<span id="cb1-30"><a href="#cb1-30" tabindex="-1"></a>            <span class="cf">if</span> kelvin <span class="op">&lt;</span> <span class="dv">0</span>:</span>
<span id="cb1-31"><a href="#cb1-31" tabindex="-1"></a>                <span class="co"># Invalid temperature, below absolute zero</span></span>
<span id="cb1-32"><a href="#cb1-32" tabindex="-1"></a>                <span class="cf">return</span> <span class="st">"Invalid temperature"</span></span>
<span id="cb1-33"><a href="#cb1-33" tabindex="-1"></a>            <span class="cf">else</span>:</span>
<span id="cb1-34"><a href="#cb1-34" tabindex="-1"></a>                <span class="cf">return</span> fahrenheit, kelvin</span>
<span id="cb1-35"><a href="#cb1-35" tabindex="-1"></a>    <span class="cf">elif</span> unit <span class="op">==</span> <span class="st">"K"</span>:</span>
<span id="cb1-36"><a href="#cb1-36" tabindex="-1"></a>        <span class="co"># Convert Kelvin to Celsius</span></span>
<span id="cb1-37"><a href="#cb1-37" tabindex="-1"></a>        celsius <span class="op">=</span> temperature <span class="op">-</span> <span class="fl">273.15</span></span>
<span id="cb1-38"><a href="#cb1-38" tabindex="-1"></a>        <span class="cf">if</span> celsius <span class="op">&lt;</span> <span class="op">-</span><span class="fl">273.15</span>:</span>
<span id="cb1-39"><a href="#cb1-39" tabindex="-1"></a>            <span class="co"># Invalid temperature, below absolute zero</span></span>
<span id="cb1-40"><a href="#cb1-40" tabindex="-1"></a>            <span class="cf">return</span> <span class="st">"Invalid temperature"</span></span>
<span id="cb1-41"><a href="#cb1-41" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb1-42"><a href="#cb1-42" tabindex="-1"></a>            <span class="co"># Convert Celsius to Fahrenheit</span></span>
<span id="cb1-43"><a href="#cb1-43" tabindex="-1"></a>            fahrenheit <span class="op">=</span> (celsius <span class="op">*</span> (<span class="dv">9</span> <span class="op">/</span> <span class="dv">5</span>)) <span class="op">+</span> <span class="dv">32</span></span>
<span id="cb1-44"><a href="#cb1-44" tabindex="-1"></a>            <span class="cf">if</span> fahrenheit <span class="op">&lt;</span> <span class="op">-</span><span class="fl">459.67</span>:</span>
<span id="cb1-45"><a href="#cb1-45" tabindex="-1"></a>                <span class="co"># Invalid temperature, below absolute zero</span></span>
<span id="cb1-46"><a href="#cb1-46" tabindex="-1"></a>                <span class="cf">return</span> <span class="st">"Invalid temperature"</span></span>
<span id="cb1-47"><a href="#cb1-47" tabindex="-1"></a>            <span class="cf">else</span>:</span>
<span id="cb1-48"><a href="#cb1-48" tabindex="-1"></a>                <span class="cf">return</span> celsius, fahrenheit</span>
<span id="cb1-49"><a href="#cb1-49" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb1-50"><a href="#cb1-50" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">"Invalid unit"</span></span></code></pre>
</div>
<p>Refactor the code by extracting functions without altering its
functionality.</p>
<ul>
<li>What functions did you create?</li>
<li>What strategies did you use to identify them?</li>
</ul>
<p>Share your answers in the collaborative document.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Solution 1 - Basic
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="kw">def</span> celsius_to_fahrenheit(celsius):</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>    <span class="cf">return</span> (celsius <span class="op">*</span> (<span class="dv">9</span> <span class="op">/</span> <span class="dv">5</span>)) <span class="op">+</span> <span class="dv">32</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a><span class="kw">def</span> fahrenheit_to_celsius(fahrenheit):</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a>    <span class="cf">return</span> (fahrenheit <span class="op">-</span> <span class="dv">32</span>) <span class="op">*</span> (<span class="dv">5</span> <span class="op">/</span> <span class="dv">9</span>)</span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a><span class="kw">def</span> celsius_to_kelvin(celsius):</span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a>    <span class="cf">return</span> celsius <span class="op">+</span> <span class="fl">273.15</span></span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="kw">def</span> kelvin_to_celsius(kelvin):</span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a>    <span class="cf">return</span> kelvin <span class="op">-</span> <span class="fl">273.15</span></span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a><span class="kw">def</span> check_temperature_validity(temperature, unit):</span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a>    abs_zero <span class="op">=</span> {<span class="st">"C"</span>: <span class="op">-</span><span class="fl">273.15</span>, <span class="st">"F"</span>: <span class="op">-</span><span class="fl">459.67</span>, <span class="st">"K"</span>: <span class="dv">0</span>}</span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a>    <span class="cf">if</span> temperature <span class="op">&lt;</span> abs_zero[unit]:</span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a></span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a></span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a><span class="kw">def</span> check_unit_validity(unit):</span>
<span id="cb2-25"><a href="#cb2-25" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> unit <span class="kw">in</span> [<span class="st">"C"</span>, <span class="st">"F"</span>, <span class="st">"K"</span>]:</span>
<span id="cb2-26"><a href="#cb2-26" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb2-27"><a href="#cb2-27" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb2-28"><a href="#cb2-28" tabindex="-1"></a></span>
<span id="cb2-29"><a href="#cb2-29" tabindex="-1"></a></span>
<span id="cb2-30"><a href="#cb2-30" tabindex="-1"></a><span class="kw">def</span> convert_temperature(temperature, unit):</span>
<span id="cb2-31"><a href="#cb2-31" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb2-32"><a href="#cb2-32" tabindex="-1"></a><span class="co">    Converts a temperature from one unit to another.</span></span>
<span id="cb2-33"><a href="#cb2-33" tabindex="-1"></a></span>
<span id="cb2-34"><a href="#cb2-34" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb2-35"><a href="#cb2-35" tabindex="-1"></a><span class="co">        temperature (float): The temperature to convert.</span></span>
<span id="cb2-36"><a href="#cb2-36" tabindex="-1"></a><span class="co">        unit (str): The unit of the temperature. Must be "C", "F", or "K".</span></span>
<span id="cb2-37"><a href="#cb2-37" tabindex="-1"></a></span>
<span id="cb2-38"><a href="#cb2-38" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb2-39"><a href="#cb2-39" tabindex="-1"></a><span class="co">        tuple: A tuple containing the converted temperature in Celsius and Kelvin units.</span></span>
<span id="cb2-40"><a href="#cb2-40" tabindex="-1"></a></span>
<span id="cb2-41"><a href="#cb2-41" tabindex="-1"></a><span class="co">    Raises:</span></span>
<span id="cb2-42"><a href="#cb2-42" tabindex="-1"></a><span class="co">        ValueError: If the unit is not "C", "F", or "K".</span></span>
<span id="cb2-43"><a href="#cb2-43" tabindex="-1"></a><span class="co">        ValueError: If the temperature is below absolute zero for the given unit.</span></span>
<span id="cb2-44"><a href="#cb2-44" tabindex="-1"></a></span>
<span id="cb2-45"><a href="#cb2-45" tabindex="-1"></a><span class="co">    Examples:</span></span>
<span id="cb2-46"><a href="#cb2-46" tabindex="-1"></a><span class="co">        &gt;&gt;&gt; convert_temperature(32, "F")</span></span>
<span id="cb2-47"><a href="#cb2-47" tabindex="-1"></a><span class="co">        (0.0, 273.15)</span></span>
<span id="cb2-48"><a href="#cb2-48" tabindex="-1"></a><span class="co">        &gt;&gt;&gt; convert_temperature(0, "C")</span></span>
<span id="cb2-49"><a href="#cb2-49" tabindex="-1"></a><span class="co">        (32.0, 273.15)</span></span>
<span id="cb2-50"><a href="#cb2-50" tabindex="-1"></a><span class="co">        &gt;&gt;&gt; convert_temperature(273.15, "K")</span></span>
<span id="cb2-51"><a href="#cb2-51" tabindex="-1"></a><span class="co">        (0.0, -459.67)</span></span>
<span id="cb2-52"><a href="#cb2-52" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb2-53"><a href="#cb2-53" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> check_unit_validity(unit):</span>
<span id="cb2-54"><a href="#cb2-54" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Invalid unit"</span>)</span>
<span id="cb2-55"><a href="#cb2-55" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> check_temperature_validity(temperature, unit):</span>
<span id="cb2-56"><a href="#cb2-56" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Invalid temperature"</span>)</span>
<span id="cb2-57"><a href="#cb2-57" tabindex="-1"></a>    <span class="cf">if</span> unit <span class="op">==</span> <span class="st">"F"</span>:</span>
<span id="cb2-58"><a href="#cb2-58" tabindex="-1"></a>        celsius <span class="op">=</span> fahrenheit_to_celsius(temperature)</span>
<span id="cb2-59"><a href="#cb2-59" tabindex="-1"></a>        kelvin <span class="op">=</span> celsius_to_kelvin(celsius)</span>
<span id="cb2-60"><a href="#cb2-60" tabindex="-1"></a>        <span class="cf">return</span> celsius, kelvin</span>
<span id="cb2-61"><a href="#cb2-61" tabindex="-1"></a>    <span class="cf">if</span> unit <span class="op">==</span> <span class="st">"C"</span>:</span>
<span id="cb2-62"><a href="#cb2-62" tabindex="-1"></a>        fahrenheit <span class="op">=</span> celsius_to_fahrenheit(temperature)</span>
<span id="cb2-63"><a href="#cb2-63" tabindex="-1"></a>        kelvin <span class="op">=</span> celsius_to_kelvin(temperature)</span>
<span id="cb2-64"><a href="#cb2-64" tabindex="-1"></a>        <span class="cf">return</span> fahrenheit, kelvin</span>
<span id="cb2-65"><a href="#cb2-65" tabindex="-1"></a>    <span class="cf">if</span> unit <span class="op">==</span> <span class="st">"K"</span>:</span>
<span id="cb2-66"><a href="#cb2-66" tabindex="-1"></a>        celsius <span class="op">=</span> kelvin_to_celsius(temperature)</span>
<span id="cb2-67"><a href="#cb2-67" tabindex="-1"></a>        fahrenheit <span class="op">=</span> celsius_to_fahrenheit(celsius)</span>
<span id="cb2-68"><a href="#cb2-68" tabindex="-1"></a>        <span class="cf">return</span> celsius, fahrenheit</span>
<span id="cb2-69"><a href="#cb2-69" tabindex="-1"></a></span>
<span id="cb2-70"><a href="#cb2-70" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">"__main__"</span>:</span>
<span id="cb2-71"><a href="#cb2-71" tabindex="-1"></a>    <span class="bu">print</span>(convert_temperature(<span class="dv">0</span>, <span class="st">"C"</span>))</span>
<span id="cb2-72"><a href="#cb2-72" tabindex="-1"></a>    <span class="bu">print</span>(convert_temperature(<span class="dv">0</span>, <span class="st">"F"</span>))</span>
<span id="cb2-73"><a href="#cb2-73" tabindex="-1"></a>    <span class="bu">print</span>(convert_temperature(<span class="dv">0</span>, <span class="st">"K"</span>))</span>
<span id="cb2-74"><a href="#cb2-74" tabindex="-1"></a>    <span class="bu">print</span>(convert_temperature(<span class="op">-</span><span class="dv">500</span>, <span class="st">"K"</span>))</span>
<span id="cb2-75"><a href="#cb2-75" tabindex="-1"></a>    <span class="bu">print</span>(convert_temperature(<span class="op">-</span><span class="dv">500</span>, <span class="st">"C"</span>))</span>
<span id="cb2-76"><a href="#cb2-76" tabindex="-1"></a>    <span class="bu">print</span>(convert_temperature(<span class="op">-</span><span class="dv">500</span>, <span class="st">"F"</span>))</span>
<span id="cb2-77"><a href="#cb2-77" tabindex="-1"></a>    <span class="bu">print</span>(convert_temperature(<span class="op">-</span><span class="dv">500</span>, <span class="st">"B"</span>))</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2">
  Solution 2 - Advanced
  </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" aria-labelledby="headingSolution2" data-bs-parent="#accordionSolution2">
<div class="accordion-body">
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="kw">class</span> TemperatureConverter:</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a><span class="co">    A class for converting temperatures between Celsius, Fahrenheit, and Kelvin.</span></span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>    <span class="kw">def</span> <span class="fu">__init__</span>(<span class="va">self</span>):</span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>        <span class="co">"""</span></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a><span class="co">        Initializes the TemperatureConverter object with a dictionary of absolute zero temperatures for each unit.</span></span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a><span class="co">        """</span></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>        <span class="va">self</span>.abs_zero <span class="op">=</span> {<span class="st">"C"</span>: <span class="op">-</span><span class="fl">273.15</span>, <span class="st">"F"</span>: <span class="op">-</span><span class="fl">459.67</span>, <span class="st">"K"</span>: <span class="dv">0</span>}</span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a>    <span class="kw">def</span> celsius_to_fahrenheit(<span class="va">self</span>, celsius):</span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a>        <span class="cf">return</span> (celsius <span class="op">*</span> (<span class="dv">9</span> <span class="op">/</span> <span class="dv">5</span>)) <span class="op">+</span> <span class="dv">32</span></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a>    <span class="kw">def</span> fahrenheit_to_celsius(<span class="va">self</span>, fahrenheit):</span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a>        <span class="cf">return</span> (fahrenheit <span class="op">-</span> <span class="dv">32</span>) <span class="op">*</span> (<span class="dv">5</span> <span class="op">/</span> <span class="dv">9</span>)</span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a>    <span class="kw">def</span> celsius_to_kelvin(<span class="va">self</span>, celsius):</span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a>        <span class="cf">return</span> celsius <span class="op">+</span> <span class="fl">273.15</span></span>
<span id="cb3-20"><a href="#cb3-20" tabindex="-1"></a></span>
<span id="cb3-21"><a href="#cb3-21" tabindex="-1"></a>    <span class="kw">def</span> kelvin_to_celsius(<span class="va">self</span>, kelvin):</span>
<span id="cb3-22"><a href="#cb3-22" tabindex="-1"></a>        <span class="cf">return</span> kelvin <span class="op">-</span> <span class="fl">273.15</span></span>
<span id="cb3-23"><a href="#cb3-23" tabindex="-1"></a></span>
<span id="cb3-24"><a href="#cb3-24" tabindex="-1"></a>    <span class="kw">def</span> check_temperature_validity(<span class="va">self</span>, temperature, unit):</span>
<span id="cb3-25"><a href="#cb3-25" tabindex="-1"></a>        <span class="cf">if</span> temperature <span class="op">&lt;</span> <span class="va">self</span>.abs_zero[unit]:</span>
<span id="cb3-26"><a href="#cb3-26" tabindex="-1"></a>            <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb3-27"><a href="#cb3-27" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb3-28"><a href="#cb3-28" tabindex="-1"></a></span>
<span id="cb3-29"><a href="#cb3-29" tabindex="-1"></a>    <span class="kw">def</span> check_unit_validity(<span class="va">self</span>, unit):</span>
<span id="cb3-30"><a href="#cb3-30" tabindex="-1"></a>        <span class="cf">if</span> unit <span class="kw">not</span> <span class="kw">in</span> [<span class="st">"C"</span>, <span class="st">"F"</span>, <span class="st">"K"</span>]:</span>
<span id="cb3-31"><a href="#cb3-31" tabindex="-1"></a>            <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb3-32"><a href="#cb3-32" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">True</span></span>
<span id="cb3-33"><a href="#cb3-33" tabindex="-1"></a></span>
<span id="cb3-34"><a href="#cb3-34" tabindex="-1"></a>    <span class="kw">def</span> convert_temperature(<span class="va">self</span>, temperature, unit):</span>
<span id="cb3-35"><a href="#cb3-35" tabindex="-1"></a>        <span class="cf">if</span> <span class="kw">not</span> <span class="va">self</span>.check_unit_validity(unit):</span>
<span id="cb3-36"><a href="#cb3-36" tabindex="-1"></a>            <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Invalid unit"</span>)</span>
<span id="cb3-37"><a href="#cb3-37" tabindex="-1"></a>        <span class="cf">if</span> <span class="kw">not</span> <span class="va">self</span>.check_temperature_validity(temperature, unit):</span>
<span id="cb3-38"><a href="#cb3-38" tabindex="-1"></a>            <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Invalid temperature"</span>)</span>
<span id="cb3-39"><a href="#cb3-39" tabindex="-1"></a>        <span class="cf">if</span> unit <span class="op">==</span> <span class="st">"F"</span>:</span>
<span id="cb3-40"><a href="#cb3-40" tabindex="-1"></a>            celsius <span class="op">=</span> <span class="va">self</span>.fahrenheit_to_celsius(temperature)</span>
<span id="cb3-41"><a href="#cb3-41" tabindex="-1"></a>            kelvin <span class="op">=</span> <span class="va">self</span>.celsius_to_kelvin(celsius)</span>
<span id="cb3-42"><a href="#cb3-42" tabindex="-1"></a>            <span class="cf">return</span> celsius, kelvin</span>
<span id="cb3-43"><a href="#cb3-43" tabindex="-1"></a>        <span class="cf">if</span> unit <span class="op">==</span> <span class="st">"C"</span>:</span>
<span id="cb3-44"><a href="#cb3-44" tabindex="-1"></a>            fahrenheit <span class="op">=</span> <span class="va">self</span>.celsius_to_fahrenheit(temperature)</span>
<span id="cb3-45"><a href="#cb3-45" tabindex="-1"></a>            kelvin <span class="op">=</span> <span class="va">self</span>.celsius_to_kelvin(temperature)</span>
<span id="cb3-46"><a href="#cb3-46" tabindex="-1"></a>            <span class="cf">return</span> fahrenheit, kelvin</span>
<span id="cb3-47"><a href="#cb3-47" tabindex="-1"></a>        <span class="cf">if</span> unit <span class="op">==</span> <span class="st">"K"</span>:</span>
<span id="cb3-48"><a href="#cb3-48" tabindex="-1"></a>            celsius <span class="op">=</span> <span class="va">self</span>.kelvin_to_celsius(temperature)</span>
<span id="cb3-49"><a href="#cb3-49" tabindex="-1"></a>            fahrenheit <span class="op">=</span> <span class="va">self</span>.celsius_to_fahrenheit(celsius)</span>
<span id="cb3-50"><a href="#cb3-50" tabindex="-1"></a>            <span class="cf">return</span> celsius, fahrenheit</span>
<span id="cb3-51"><a href="#cb3-51" tabindex="-1"></a></span>
<span id="cb3-52"><a href="#cb3-52" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span> <span class="op">==</span> <span class="st">"__main__"</span>:</span>
<span id="cb3-53"><a href="#cb3-53" tabindex="-1"></a>    converter <span class="op">=</span> TemperatureConverter()</span>
<span id="cb3-54"><a href="#cb3-54" tabindex="-1"></a>    <span class="bu">print</span>(converter.convert_temperature(<span class="dv">0</span>, <span class="st">"C"</span>))</span>
<span id="cb3-55"><a href="#cb3-55" tabindex="-1"></a>    <span class="bu">print</span>(converter.convert_temperature(<span class="dv">0</span>, <span class="st">"F"</span>))</span>
<span id="cb3-56"><a href="#cb3-56" tabindex="-1"></a>    <span class="bu">print</span>(converter.convert_temperature(<span class="dv">0</span>, <span class="st">"K"</span>))</span>
<span id="cb3-57"><a href="#cb3-57" tabindex="-1"></a>    <span class="bu">print</span>(converter.convert_temperature(<span class="op">-</span><span class="dv">500</span>, <span class="st">"K"</span>))</span>
<span id="cb3-58"><a href="#cb3-58" tabindex="-1"></a>    <span class="bu">print</span>(convert_temperature(<span class="op">-</span><span class="dv">500</span>, <span class="st">"C"</span>))</span>
<span id="cb3-59"><a href="#cb3-59" tabindex="-1"></a>    <span class="bu">print</span>(convert_temperature(<span class="op">-</span><span class="dv">500</span>, <span class="st">"F"</span>))</span>
<span id="cb3-60"><a href="#cb3-60" tabindex="-1"></a>    <span class="bu">print</span>(convert_temperature(<span class="dv">0</span>, <span class="st">"X"</span>))</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Software is built from smaller, self-contained elements, each
handling specific tasks.</li>
<li>Modular code enhances robustness, readability, and ease of
maintenance.</li>
<li>Modules can be reused across projects, promoting efficiency.</li>
<li>Good modules perform limited, defined tasks and have descriptive
names.</li>
<li>Focus on readability and use tests to guide modularization.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-3-documentation"><p>Content from <a href="3-documentation.html">Document your research software</a></p>
<hr>
<p>Last updated on 2025-03-12 |

        <a href="https://github.com/esciencecenter-digital-skills/good-practices-lesson/edit/main/episodes/3-documentation.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>What different types of documentation are there?</li>
<li>How to help others to use your project?</li>
<li>What are docstrings and what information should go into
docstrings?</li>
<li>What different tools exist for generating documentation?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Know what makes a good documentation</li>
<li>Know how to document your project and get credit for your work</li>
<li>Learn what docstrings are and how to use them</li>
<li>Learn what tools can be used for generating documentation</li>
<li>Implement MkDocs to generate comprehensive project
documentation</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="why-we-teach-this-lesson">Why we teach this lesson<a class="anchor" aria-label="anchor" href="#why-we-teach-this-lesson"></a>
</h2>
<hr class="half-width">
<p>Specific motivations:</p>
<ul>
<li>Code documentation should be part of your source code so that it
remains easily accessible and maintainable for all users.</li>
<li>Good documentation allows others to install and make use of your
code independently and increase the impact of your project.</li>
<li>Documentation can facilitate collaborations by helping us onboard
new project members quickly and more easily.</li>
<li>By writing documention you think about the design of your code.</li>
</ul></section><section><h2 class="section-heading" id="what-makes-a-good-documentation">What makes a good documentation?<a class="anchor" aria-label="anchor" href="#what-makes-a-good-documentation"></a>
</h2>
<hr class="half-width">
<div id="exercise-think-of-good-and-bad-examples" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-think-of-good-and-bad-examples" class="callout-inner">
<h3 class="callout-title">Exercise: Think of good and bad examples</h3>
<div class="callout-content">
<p>Write down your thoughts in the collaborative documents. Respond with
emojis <span class="emoji" data-emoji="+1"></span> <span class="emoji" data-emoji="scream_cat"></span> to your colleagues answers. - Think
of projects of which you like the documentation. What do you like about
them? - Think of projects for which you dont like the documentation.
What dont you like about them? Are you missing anything?</p>
<p><strong>NB: You can choose a mature library with lots of users for
this exercise, but try to also think of less mature projects you had to
collaborate on, or papers you had to reproduce.</strong></p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<ul>
<li>It is important to documentcode</li>
<li>Think about the people reading your documentation (your
audience)</li>
<li>Depending on the purpose and state of the project
documentationneeds to meet differentcriteria.</li>
<li>For most scientific projects,in-code documentation and a well
thoughtoutREADME file isenough.</li>
<li>Documentation should be tracked with correspondingcode</li>
</ul>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="types-of-documentation">Types of documentation<a class="anchor" aria-label="anchor" href="#types-of-documentation"></a>
</h2>
<hr class="half-width">
<p>There are different types of documentation:</p>
<ul>
<li>README and CITATION files</li>
<li>in-code documentation (comments and docstrings)</li>
<li>Tutorials</li>
</ul></section><section><h2 class="section-heading" id="writing-good-readme-files">Writing good README files<a class="anchor" aria-label="anchor" href="#writing-good-readme-files"></a>
</h2>
<hr class="half-width">
<p>The README file is the first thing a user/collaborator sees. It
should include:</p>
<ul>
<li>A descriptive project title</li>
<li>Motivation (why the project exists)</li>
<li>How to setup</li>
<li>Copy-pastable quick start code example</li>
<li>Link or instructions for contributing</li>
<li>Badges</li>
<li>Citation</li>
</ul>
<div class="section level3">
<h3 id="badges">Badges<a class="anchor" aria-label="anchor" href="#badges"></a>
</h3>
<p>Badges are a way to quickly show the status of a project: is it
building, is it tested, what is the license? You typically find them on
top of the README file:</p>
<p><img src="fig/documentation-badges.png" alt="Badges on top of a Readme file" class="figure">.</p>
<div id="draft-or-improve-a-readme-for-one-of-your-recent-projects-in-breakout-rooms" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="draft-or-improve-a-readme-for-one-of-your-recent-projects-in-breakout-rooms" class="callout-inner">
<h3 class="callout-title">Draft or improve a README for one of your recent projects (in breakout rooms)</h3>
<div class="callout-content">
<p>Try to draft a brief README or review a README which you have written
for one of your projects. You can work individually, but you could also
discuss whether anything can be improved on your neighbours README
file(s). Think about the user (which can be a future you) of your
project, what does this user need to know to use or contribute to the
project? And how do you make your project attractive to use or
contribute to?</p>
<div class="section level4">
<h4 id="add-a-badge">Add a badge<a class="anchor" aria-label="anchor" href="#add-a-badge"></a>
</h4>
<p>Add a badge to your README file. This comes down to simply adding a
link to an image on top of your README file.</p>
<p>You can pick from:</p>
<ul>
<li>
<a href="https://shields.io/badges" class="external-link">A simple static badge</a>. You
can decide what it says and what color it is.</li>
<li>
<a href="https://app.howfairis.com" class="external-link">The howfairis badge</a>. It
indicates whether a project is in line with the <a href="https://fair-software.eu/" class="external-link">FAIR software recommendations.</a>
</li>
<li>
<a href="https://coveralls.io/" class="external-link">A badge reporting test coverage</a>
(we will discuss testing and continuous integration in upcoming
episodes)</li>
<li><a href="https://tutorials.inbo.be/tutorials/git_zenodo/" class="external-link">A badge
linking to a publication in Zenodo</a></li>
<li><a href="https://gist.github.com/lukas-h/2a5d00690736b4c3a7ba" class="external-link">A
badge showing the license</a></li>
</ul>
</div>
<div class="section level4">
<h4 id="optional-make-your-writing-bold-and-clear">(optional) Make your writing bold and clear<a class="anchor" aria-label="anchor" href="#optional-make-your-writing-bold-and-clear"></a>
</h4>
<p>Try the <a href="https://hemingwayapp.com/" class="external-link uri">https://hemingwayapp.com/</a> to analyse your README file
and make your writing bold and clear.</p>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h3>
<p>It is easy to correctly cite a paper: all the necessary information
(metadata) can be found on the title page or the article website.</p>
<p>Software and datasets have no title page, the relevant information is
often less obvious. To get credit for your work, you should provide
citation information for your software.</p>
<p>A good way to add citation information is by including a <a href="https://citation-file-format.github.io/" class="external-link">CITATION.cff</a> file
(Citation File Format) in the root of your repository. This plain text
file, written in YAML format, contains all the necessary citation
details in a structured manner.</p>
<p>Platforms like GitHub, Zenodo, and Zotero reuse the citation metadata
you provide. GitHub, for example, automatically renders the file on the
repository landing page and provides a BibTeX snippet which users can
simply copy!</p>
<div class="section level4">
<h4 id="minimal-example-for-a-citation-cff-file">Minimal example for a CITATION.cff file<a class="anchor" aria-label="anchor" href="#minimal-example-for-a-citation-cff-file"></a>
</h4>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">YAML<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode yaml" tabindex="0"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">authors</span><span class="kw">:</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">family-names</span><span class="kw">:</span><span class="at"> Doe</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="at">    </span><span class="fu">given-names</span><span class="kw">:</span><span class="at"> John</span></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="fu">cff-version</span><span class="kw">:</span><span class="at"> </span><span class="fl">1.2.0</span></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="fu">message</span><span class="kw">:</span><span class="at"> </span><span class="st">"If you use this software, please cite it using the metadata from this file."</span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="fu">title</span><span class="kw">:</span><span class="at"> </span><span class="st">"My research software"</span></span></code></pre>
</div>
<p>We can also include other important information of software such as
version, release date, DOI, license, keywords.</p>
</div>
<div class="section level4">
<h4 id="how-to-create-a-citation-cff-file">How to create a CITATION.cff file?<a class="anchor" aria-label="anchor" href="#how-to-create-a-citation-cff-file"></a>
</h4>
<p>You can use the <a href="https://citation-file-format.github.io/cff-initializer-javascript/" class="external-link">cffinit</a>
tool to create a citation file.</p>
<div id="exercise-create-a-citation.cff-using-cffinit" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="exercise-create-a-citation.cff-using-cffinit" class="callout-inner">
<h3 class="callout-title">Exercise: Create a CITATION.cff using cffinit</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Follow <a href="https://book.the-turing-way.org/communication/citable/citable-cffinit" class="external-link">these
steps to create a CITATION file with cffinit</a>.</li>
<li>Rename the created file to <code>CITATION.cff</code> and add it to
the root folder of your repository.</li>
<li>Push your changes to <code>main</code> and check your repository in
GitHub. What has happened?</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="in-code-documentation">In-code documentation<a class="anchor" aria-label="anchor" href="#in-code-documentation"></a>
</h2>
<hr class="half-width">
<p>In-code documentation makes code more understandable and explains
decisions we made.</p>
<div class="section level3">
<h3 id="when-not-to-use">When not to use:<a class="anchor" aria-label="anchor" href="#when-not-to-use"></a>
</h3>
<ul>
<li>When the code is self-explanatory</li>
<li>To replace good variable/function names</li>
<li>To replace version control</li>
<li>To keep old (zombie) code around</li>
</ul>
</div>
<div class="section level3">
<h3 id="readable-code-vs-commented-code">Readable code vs commented code<a class="anchor" aria-label="anchor" href="#readable-code-vs-commented-code"></a>
</h3>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># convert from degrees celsius to fahrenheit</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="kw">def</span> convert(d):</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a>    <span class="cf">return</span> d <span class="op">*</span> <span class="dv">5</span> <span class="op">/</span> <span class="dv">9</span> <span class="op">+</span> <span class="dv">32</span></span></code></pre>
</div>
<p>vs</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="kw">def</span> celsius_to_fahrenheit(degrees):</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>    <span class="cf">return</span> degrees <span class="op">*</span> <span class="dv">5</span> <span class="op">/</span> <span class="dv">9</span> <span class="op">+</span> <span class="dv">32</span></span></code></pre>
</div>
<div id="exercise-writing-good-in-code-comments" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-writing-good-in-code-comments" class="callout-inner">
<h3 class="callout-title">Exercise: Writing good in-code comments</h3>
<div class="callout-content">
<p>Lets take a look at two example comments:</p>
<p><strong>Comment A</strong></p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a>  <span class="co"># now we check if temperature is below -50</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>  <span class="cf">if</span> temperature <span class="op">&lt;</span> <span class="op">-</span><span class="dv">50</span>:</span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>      <span class="bu">print</span>(<span class="st">"ERROR: temperature is too low"</span>)</span></code></pre>
</div>
<p><strong>Comment B</strong></p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" tabindex="-1"></a>  <span class="co"># we regard temperatures below -50 degrees as measurement errors</span></span>
<span id="cb5-2"><a href="#cb5-2" tabindex="-1"></a>  <span class="cf">if</span> temperature <span class="op">&lt;</span> <span class="op">-</span><span class="dv">50</span>:</span>
<span id="cb5-3"><a href="#cb5-3" tabindex="-1"></a>      <span class="bu">print</span>(<span class="st">"ERROR: temperature is too low"</span>)</span></code></pre>
</div>
<p><strong>Which of these comments is more useful? Can you explain
why?</strong></p>
</div>
</div>
</div>
<div id="accordionSolution2" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution2" aria-expanded="false" aria-controls="collapseSolution2">
  <h4 class="accordion-header" id="headingSolution2"> Show me the solution </h4>
</button>
<div id="collapseSolution2" class="accordion-collapse collapse" data-bs-parent="#accordionSolution2" aria-labelledby="headingSolution2">
<div class="accordion-body">
<p>Comment B is the correct choice!</p>
<ul>
<li>
<strong>Comment A</strong> describes <strong>what</strong> happens
in this piece of code. This can be useful for somebody who has never
seen Python or a program, but for somebody who has, it can feel like a
redundant commentary.</li>
<li>
<strong>Comment B</strong> is probably more useful as it describes
<strong>why</strong> this piece of code is there, i.e.its
<strong>purpose</strong>.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="what-are-docstrings-and-how-can-they-be-useful">What are docstrings and how can they be useful?<a class="anchor" aria-label="anchor" href="#what-are-docstrings-and-how-can-they-be-useful"></a>
</h3>
<p>Docstrings are a special kind of comment that are used to document
functions, classes and modules. Here is function
<code>fahrenheit_to_celsius</code> which converts temperature in
Fahrenheit to Celsius.</p>
<p>The first set of examples uses <strong>regular comments</strong>:</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="co"># This function converts a temperature in Fahrenheit to Celsius.</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a><span class="kw">def</span> fahrenheit_to_celsius(temp_f: <span class="bu">float</span>) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>    temp_c <span class="op">=</span> (temp_f <span class="op">-</span> <span class="fl">32.0</span>) <span class="op">*</span> (<span class="fl">5.0</span><span class="op">/</span><span class="fl">9.0</span>)</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>    <span class="cf">return</span> temp_c</span></code></pre>
</div>
<p>The second set uses <strong>docstrings or similar concepts</strong>.
Please compare the two (above and below):</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="kw">def</span> fahrenheit_to_celsius(temp_f: <span class="bu">float</span>) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb7-2"><a href="#cb7-2" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb7-3"><a href="#cb7-3" tabindex="-1"></a><span class="co">    Converts a temperature in Fahrenheit to Celsius.</span></span>
<span id="cb7-4"><a href="#cb7-4" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb7-6"><a href="#cb7-6" tabindex="-1"></a><span class="co">        temp_f: The temperature in Fahrenheit.</span></span>
<span id="cb7-7"><a href="#cb7-7" tabindex="-1"></a></span>
<span id="cb7-8"><a href="#cb7-8" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb7-9"><a href="#cb7-9" tabindex="-1"></a><span class="co">        The temperature in Celsius.</span></span>
<span id="cb7-10"><a href="#cb7-10" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb7-11"><a href="#cb7-11" tabindex="-1"></a></span>
<span id="cb7-12"><a href="#cb7-12" tabindex="-1"></a>    temp_c <span class="op">=</span> (temp_f <span class="op">-</span> <span class="fl">32.0</span>) <span class="op">*</span> (<span class="fl">5.0</span><span class="op">/</span><span class="fl">9.0</span>)</span>
<span id="cb7-13"><a href="#cb7-13" tabindex="-1"></a>    <span class="cf">return</span> temp_c</span></code></pre>
</div>
<p>Unlike regular comments, docstrings are stored as an attribute
(<code>__doc__</code>) of the object they document and can be extracted
programmatically.</p>
<p>Docstrings are more powerful than comments:</p>
<ul>
<li>Docstrings are automatically extracted when calling the
<code>help</code> function.</li>
<li>Tools (e.g.<code>mkdocs</code>, <code>sphinx</code>) can generate
documentation pages automatically from docstrings known as API
documentation.</li>
</ul>
<p>A good docstring should describe:</p>
<ul>
<li>What the function does</li>
<li>What goes in (including the type of the input variables)</li>
<li>What goes out (including the return type)</li>
</ul>
<p>There are different docstrings styles, such as Google style, numpy
style and reStructered style, with Google style being the most common.
See documentation <a href="https://google.github.io/styleguide/pyguide.html#doc-function-args" class="external-link">here</a>
for more information.</p>
<div id="exercise-identify-a-proper-docstring" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="exercise-identify-a-proper-docstring" class="callout-inner">
<h3 class="callout-title">Exercise: Identify a proper docstring</h3>
<div class="callout-content">
<p>Which of the following options is the correct function with a proper
docstring?</p>
<p><strong>Option A</strong></p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="kw">def</span> check_unit_validity(unit: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">bool</span>:</span>
<span id="cb8-2"><a href="#cb8-2" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb8-3"><a href="#cb8-3" tabindex="-1"></a><span class="co">    Checks if a unit is valid.</span></span>
<span id="cb8-4"><a href="#cb8-4" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb8-6"><a href="#cb8-6" tabindex="-1"></a><span class="co">        unit: The unit to check. Must be "C", "F", or "K".</span></span>
<span id="cb8-7"><a href="#cb8-7" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb8-9"><a href="#cb8-9" tabindex="-1"></a><span class="co">        True if the unit is valid, False otherwise.</span></span>
<span id="cb8-10"><a href="#cb8-10" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb8-11"><a href="#cb8-11" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> unit <span class="kw">in</span> [<span class="st">"C"</span>, <span class="st">"F"</span>, <span class="st">"K"</span>]:</span>
<span id="cb8-12"><a href="#cb8-12" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb8-13"><a href="#cb8-13" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">True</span></span></code></pre>
</div>
<p><strong>Option B</strong></p>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="kw">def</span> check_unit_validity(unit):</span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a><span class="co">    Checks if a unit is valid.</span></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="co">    Args:</span></span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a><span class="co">        unit (str): The unit to check. Must be "C", "F", or "K".</span></span>
<span id="cb9-7"><a href="#cb9-7" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb9-9"><a href="#cb9-9" tabindex="-1"></a><span class="co">        bool: True if the unit is valid, False otherwise.</span></span>
<span id="cb9-10"><a href="#cb9-10" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb9-11"><a href="#cb9-11" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> unit <span class="kw">in</span> [<span class="st">"C"</span>, <span class="st">"F"</span>, <span class="st">"K"</span>]:</span>
<span id="cb9-12"><a href="#cb9-12" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb9-13"><a href="#cb9-13" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">True</span></span></code></pre>
</div>
<p><strong>Option C</strong></p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="kw">def</span> check_unit_validity(unit: <span class="bu">str</span>) <span class="op">-&gt;</span> <span class="bu">bool</span>:</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="co">    Validates the unit.</span></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="co">    Parameters:</span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a><span class="co">        unit (str): The unit to check.</span></span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a><span class="co">    Returns:</span></span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a><span class="co">        bool: True if the unit is valid, False otherwise.</span></span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> unit <span class="kw">in</span> [<span class="st">"C"</span>, <span class="st">"F"</span>, <span class="st">"K"</span>]:</span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">True</span></span></code></pre>
</div>
</div>
</div>
</div>
<div id="accordionSolution3" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution3" aria-expanded="false" aria-controls="collapseSolution3">
  <h4 class="accordion-header" id="headingSolution3"> Show me the solution </h4>
</button>
<div id="collapseSolution3" class="accordion-collapse collapse" data-bs-parent="#accordionSolution3" aria-labelledby="headingSolution3">
<div class="accordion-body">
<p>Option A and B are both correct choices!</p>
<ul>
<li>
<strong>Option A</strong>: The docstring is detailed. It does not
require types (str, bool) since they are already specified in the
function signature.</li>
<li>
<strong>Option B</strong>: The docstring is detailed and includes
descriptions of the arguments and return type since they are not
specified in the function signature.</li>
<li>
<strong>Option C</strong>: The docstring is missing the specific
valid units (C, F, K) in the description of the unit parameter,
making it less informative.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="tools-for-generating-and-deploying-documentation">Tools for generating and deploying documentation<a class="anchor" aria-label="anchor" href="#tools-for-generating-and-deploying-documentation"></a>
</h2>
<hr class="half-width">
<p>You can use the following tools to generate user or API
documentation.</p>
<div class="section level3">
<h3 id="tools-for-generating-documentation">Tools for generating documentation<a class="anchor" aria-label="anchor" href="#tools-for-generating-documentation"></a>
</h3>
<p>MkDocs and Sphinx:</p>
<ul>
<li>create nicely-formatted HTML pages out of .md or .rST files</li>
<li>programming language independent</li>
</ul>
<div class="section level4">
<h4 id="sphinx">Sphinx<a class="anchor" aria-label="anchor" href="#sphinx"></a>
</h4>
<p>Like MkDocs, Sphinx is a documetatation generator which translates a
set of plain text source files into various output formats. It natively
supports reStructuredText (rST) and with some extensions also supports
Markdown.</p>

<div id="accordionSpoiler1" class="accordion spoiler-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button spoiler-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSpoiler1" aria-expanded="false" aria-controls="collapseSpoiler1">
  <h3 class="accordion-header" id="headingSpoiler1">  <div class="note-square"><i aria-hidden="true" class="callout-icon" data-feather="eye"></i></div> Sphinx quickstart demo and optional exercises </h3>
</button>
<div id="collapseSpoiler1" class="accordion-collapse collapse" data-bs-parent="#accordionSpoiler1" aria-labelledby="headingSpoiler1">
<div class="accordion-body">
<p>Create a directory for the example documentation, step into it, and
inside generate the basic documentation template:</p>
<pre class="console"><code>$ mkdir doc-example
$ cd doc-example
$ sphinx-quickstart</code></pre>
<p>The quickstart utility will ask you some questions. For this
exercise, you can go with the default answers except to specify a
project name, author name, and project release:</p>
<pre><code>&gt; Separate source and build directories (y/n) [n]: &lt;hit enter&gt;
&gt; Project name: &lt;your project name&gt;
&gt; Author name(s): &lt;your name&gt;
&gt; Project release []: 0.1
&gt; Project language [en]: &lt;hit enter&gt;</code></pre>
<p>A couple of files and directories are created:</p>
<table class="table">
<colgroup>
<col width="63%">
<col width="36%">
</colgroup>
<thead><tr class="header">
<th>File/directory</th>
<th>Contents</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>conf.py</td>
<td>Documentation configuration file</td>
</tr>
<tr class="even">
<td>index.rst</td>
<td>Main file in Sphinx</td>
</tr>
<tr class="odd">
<td>_build/</td>
<td>Directory where docs are built (you can decide the name)</td>
</tr>
<tr class="even">
<td>_templates/</td>
<td>Your own HTML templates</td>
</tr>
<tr class="odd">
<td>_static/</td>
<td>Static files (images, styles, etc.) copied to output directory on
build</td>
</tr>
<tr class="even">
<td>Makefile</td>
<td>Makefile to build documentation using make</td>
</tr>
<tr class="odd">
<td>make.bat</td>
<td>Makefile to build documentation using make (Windows)</td>
</tr>
</tbody>
</table>
<p><code>Makefile</code> and <code>make.bat</code> (for Windows) are
build scripts that wrap the sphinx commands, but we will be doing it
explicitly.</p>
<p>Lets have a look at the <code>index.rst</code> file, which is the
main file of your documentation:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">RST<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode rst" tabindex="0"><code class="sourceCode rest"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a><span class="co">.. myproject documentation master file, created by</span></span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a><span class="dt">   </span><span class="co">sphinx-quickstart on Sat Sep 23 17:35:26 2023.</span></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="dt">   </span><span class="co">You can adapt this file completely to your liking, but it should at least</span></span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a><span class="dt">   </span><span class="co">contain the root `toctree` directive.</span></span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a>Welcome to myproject's documentation!</span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a>=====================================</span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a><span class="dt">.. toctree::</span></span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a>   <span class="fu">:maxdepth:</span> 2</span>
<span id="cb13-11"><a href="#cb13-11" tabindex="-1"></a>   <span class="fu">:caption:</span> Contents:</span>
<span id="cb13-12"><a href="#cb13-12" tabindex="-1"></a></span>
<span id="cb13-13"><a href="#cb13-13" tabindex="-1"></a></span>
<span id="cb13-14"><a href="#cb13-14" tabindex="-1"></a>Indices and tables</span>
<span id="cb13-15"><a href="#cb13-15" tabindex="-1"></a>==================</span>
<span id="cb13-16"><a href="#cb13-16" tabindex="-1"></a></span>
<span id="cb13-17"><a href="#cb13-17" tabindex="-1"></a>* <span class="kw">:ref:</span><span class="dv">`genindex`</span></span>
<span id="cb13-18"><a href="#cb13-18" tabindex="-1"></a>* <span class="kw">:ref:</span><span class="dv">`modindex`</span></span>
<span id="cb13-19"><a href="#cb13-19" tabindex="-1"></a>* <span class="kw">:ref:</span><span class="dv">`search`</span></span></code></pre>
</div>
<ul>
<li>We will not use the <code>Indices and tables</code> section now, so
remove it and everything below.</li>
<li>The top four lines, starting with <code>..</code>, are a
comment.</li>
<li>The next lines are the table of contents. We can add content
below:</li>
</ul>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">RST<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode rst" tabindex="0"><code class="sourceCode rest"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="dt">.. toctree::</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>   <span class="fu">:maxdepth:</span> 2</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a>   <span class="fu">:caption:</span> Contents:</span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a>   some-feature.md</span></code></pre>
</div>
<p>Note that <code>some-feature.md</code> needs to be indented to align
with <code>:caption:</code>.</p>
<p>We now need to tell Sphinx to use markdown files. To do this, we open
<code>conf.py</code> and replace the line:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a>extensions <span class="op">=</span> []</span></code></pre>
</div>
<p>with this line so that Sphinx can parse Markdown files:</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a>extensions <span class="op">=</span> [<span class="st">'myst_parser'</span>]</span></code></pre>
</div>
<p>Lets create the file <code>some-feature.md</code> (in Markdown
format) which we have just listed in <code>index.rst</code> (which uses
reStructured Text format).</p>
<div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">MD<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode md" tabindex="0"><code class="sourceCode markdown"><span id="cb17-1"><a href="#cb17-1" tabindex="-1"></a><span class="fu"># Some feature</span></span>
<span id="cb17-2"><a href="#cb17-2" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" tabindex="-1"></a><span class="fu">## Subsection</span></span>
<span id="cb17-4"><a href="#cb17-4" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" tabindex="-1"></a>Exciting documentation in here.</span>
<span id="cb17-6"><a href="#cb17-6" tabindex="-1"></a>Let's make a list (empty surrounding lines required):</span>
<span id="cb17-7"><a href="#cb17-7" tabindex="-1"></a></span>
<span id="cb17-8"><a href="#cb17-8" tabindex="-1"></a><span class="ss">- </span>item 1</span>
<span id="cb17-9"><a href="#cb17-9" tabindex="-1"></a></span>
<span id="cb17-10"><a href="#cb17-10" tabindex="-1"></a><span class="ss">  - </span>nested item 1</span>
<span id="cb17-11"><a href="#cb17-11" tabindex="-1"></a><span class="ss">  - </span>nested item 2</span>
<span id="cb17-12"><a href="#cb17-12" tabindex="-1"></a></span>
<span id="cb17-13"><a href="#cb17-13" tabindex="-1"></a><span class="ss">- </span>item 2</span>
<span id="cb17-14"><a href="#cb17-14" tabindex="-1"></a><span class="ss">- </span>item 3</span></code></pre>
</div>
<p>We now build the site:</p>
<pre class="console"><code>$ ls -1

_static
_templates
conf.py
index.rst
make.bat
Makefile
some-feature.md

$ sphinx-build . _build

... lots of output ...
build succeeded.

The HTML pages are in _build.

$ ls -1 _build

_sources
_static
genindex.html
index.html
objects.inv
search.html
searchindex.js
some-feature.html</code></pre>
<p>Now open the file <code>_build/index.html</code> in your browser.</p>
<ul>
<li>
<p>Linux users, type:</p>
<pre class="console"><code>$ xdg-open _build/index.html</code></pre>
</li>
<li>
<p>macOS users, type:</p>
<pre class="console"><code>$ open _build/index.htmlgit</code></pre>
</li>
<li>
<p>Windows users, type:</p>
<pre class="console"><code>$ start _build/index.html</code></pre>
</li>
<li><p>If the above does not work: Enter
<code>file:///home/user/doc-example/_build/index.html</code> in your
browser (adapting the path to your case).</p></li>
</ul>
<p>Hopefully you can now see a website. If so, then you are able to
build Sphinx pages locally. This is useful to check how things look
before pushing changes to GitHub or elsewhere.</p>
<p>Note that you can change the styling by editing <code>conf.py</code>
and changing the value <code>html_theme</code> (for instance you can set
it to <code>sphinx_rtd_theme</code> (if you have that Python package
installed) to have the Read the Docs look).</p>
<div id="optional-exercise-adding-more-sphinx-content" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="optional-exercise-adding-more-sphinx-content" class="callout-inner">
<h3 class="callout-title">(Optional) exercise: Adding more Sphinx content</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Add an entry below <code>some-feature.md</code> labeled
<code>another-feature.md</code> (or a better name) to the
<code>index.rst</code> file.</li>
<li>Create a file <code>another-feature.md</code> in the same directory
as the <code>index.rst</code> file.</li>
<li>Add some content to <code>another-feature.md</code>, rebuild with
<code>sphinx-build . _build</code>, and refresh the browser to look at
the results.</li>
<li>Use the <a href="https://myst-parser.readthedocs.io/en/latest/syntax/typography.html" class="external-link">MyST
Typography</a> page as help.</li>
</ol>
<p>Experiment with the following Markdown syntax:</p>
<ul>
<li><p>*Emphasized text* and **bold text**</p></li>
<li><p>Headings:</p></li>
</ul>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">MD<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode md" tabindex="0"><code class="sourceCode markdown"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="fu"># Level 1</span></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a><span class="fu">## Level 2</span></span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a></span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a><span class="fu">### Level 3</span></span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" tabindex="-1"></a><span class="fu">#### Level 4</span></span></code></pre>
</div>
<ul>
<li><p>An image: <code>![alt text](image.png)</code></p></li>
<li><p><code>[A link](https://www.example.org)</code></p></li>
<li><p>Numbered lists (numbers adjusted automatically):</p></li>
</ul>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">MD<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode md" tabindex="0"><code class="sourceCode markdown"><span id="cb23-1"><a href="#cb23-1" tabindex="-1"></a><span class="ss">1. </span>item 1</span>
<span id="cb23-2"><a href="#cb23-2" tabindex="-1"></a><span class="ss">2. </span>item 2</span>
<span id="cb23-3"><a href="#cb23-3" tabindex="-1"></a><span class="ss">3. </span>item 3</span>
<span id="cb23-4"><a href="#cb23-4" tabindex="-1"></a><span class="ss">1. </span>item 4</span>
<span id="cb23-5"><a href="#cb23-5" tabindex="-1"></a><span class="ss">1. </span>item 5</span></code></pre>
</div>
<ul>
<li>Simple tables:</li>
</ul>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">MD<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode md" tabindex="0"><code class="sourceCode markdown"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="pp">|</span> No.  <span class="pp">|</span>  Prime <span class="pp">|</span></span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a><span class="pp">| ----</span> <span class="pp">| ------</span> <span class="pp">|</span></span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a><span class="pp">|</span> 1    <span class="pp">|</span>  No    <span class="pp">|</span></span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a><span class="pp">|</span> 2    <span class="pp">|</span>  Yes   <span class="pp">|</span></span>
<span id="cb24-5"><a href="#cb24-5" tabindex="-1"></a><span class="pp">|</span> 3    <span class="pp">|</span>  Yes   <span class="pp">|</span></span>
<span id="cb24-6"><a href="#cb24-6" tabindex="-1"></a><span class="pp">|</span> 4    <span class="pp">|</span>  No    <span class="pp">|</span></span></code></pre>
</div>
<ul>
<li>Code blocks:</li>
</ul>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">MARKDOWN<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode markdown" tabindex="0"><code class="sourceCode markdown"><span id="cb25-1"><a href="#cb25-1" tabindex="-1"></a><span class="an">The following is a Python code block:</span></span>
<span id="cb25-2"><a href="#cb25-2" tabindex="-1"></a><span class="in">```python</span></span>
<span id="cb25-3"><a href="#cb25-3" tabindex="-1"></a>  <span class="kw">def</span> hello():</span>
<span id="cb25-4"><a href="#cb25-4" tabindex="-1"></a>      <span class="bu">print</span>(<span class="st">"Hello world"</span>)</span>
<span id="cb25-5"><a href="#cb25-5" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb25-6"><a href="#cb25-6" tabindex="-1"></a></span>
<span id="cb25-7"><a href="#cb25-7" tabindex="-1"></a>And this is a C code block:</span>
<span id="cb25-8"><a href="#cb25-8" tabindex="-1"></a><span class="in">```c</span></span>
<span id="cb25-9"><a href="#cb25-9" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;stdio.h&gt;</span></span>
<span id="cb25-10"><a href="#cb25-10" tabindex="-1"></a><span class="dt">int</span> main<span class="op">()</span></span>
<span id="cb25-11"><a href="#cb25-11" tabindex="-1"></a><span class="op">{</span></span>
<span id="cb25-12"><a href="#cb25-12" tabindex="-1"></a>    printf<span class="op">(</span><span class="st">"Hello, World!"</span><span class="op">);</span></span>
<span id="cb25-13"><a href="#cb25-13" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb25-14"><a href="#cb25-14" tabindex="-1"></a><span class="op">}</span></span>
<span id="cb25-15"><a href="#cb25-15" tabindex="-1"></a><span class="in">```</span></span></code></pre>
</div>
<ul>
<li>You could include an external file (here we assume a file called
example.py exists; at the same time we highlight lines 2 and 3):</li>
</ul>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">MARKDOWN<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode markdown" tabindex="0"><code class="sourceCode markdown"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="in">```{literalinclude} example.py</span></span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a><span class="in">:language: python</span></span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a><span class="in">:emphasize-lines: 2-3</span></span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a><span class="in">```</span></span></code></pre>
</div>
<ul>
<li>We can also use Jupyter notebooks (*.ipynb) with Sphinx. It requires
the <a href="https://myst-nb.readthedocs.io/" class="external-link">myst-nb</a> extension to
be installed.</li>
</ul>
</div>
</div>
</div>
<div id="optional-exercise-adding-math-equations" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="optional-exercise-adding-math-equations" class="callout-inner">
<h3 class="callout-title">(Optional) exercise Adding Math equations</h3>
<div class="callout-content">
<p>Math equations should work out of the box. In some older versions,
you might need to edit <code>conf.py</code> and add
<code>sphinx.ext.mathjax</code>:</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" tabindex="-1"></a>extensions <span class="op">=</span> [<span class="st">'myst_parser'</span>, <span class="st">'sphinx.ext.mathjax'</span>]</span></code></pre>
</div>
<p>Try this (result below):</p>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">MARKDOWN<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode markdown" tabindex="0"><code class="sourceCode markdown"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="an">This creates an equation:</span></span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a><span class="in">```{math}</span></span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a><span class="in">a^2 + b^2 = c^2</span></span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb28-5"><a href="#cb28-5" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" tabindex="-1"></a>This is an in-line equation, {math}<span class="in">`a^2 + b^2 = c^2`</span>, embedded in text.</span></code></pre>
</div>
<p>This creates an equation: <code>{math} a^2 + b^2 = c^2</code></p>
<p>This is an in-line equation, {math}<code>a^2 + b^2 = c^2</code>,
embedded in text.</p>
</div>
</div>
</div>
<div id="optional-exercise-adding-api-documentation" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="optional-exercise-adding-api-documentation" class="callout-inner">
<h3 class="callout-title">(Optional) exercise: Adding API documentation</h3>
<div class="callout-content">
<ol style="list-style-type: decimal">
<li>Write some docstrings in functions and/or class definitions of an
<code>example</code> python module:</li>
</ol>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" tabindex="-1"></a><span class="kw">def</span> multiply(a: <span class="bu">float</span>, b: <span class="bu">float</span>) <span class="op">-&gt;</span> <span class="bu">float</span>:</span>
<span id="cb29-2"><a href="#cb29-2" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb29-3"><a href="#cb29-3" tabindex="-1"></a><span class="co">    Multiply two numbers.</span></span>
<span id="cb29-4"><a href="#cb29-4" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" tabindex="-1"></a><span class="co">    :param a: First number.</span></span>
<span id="cb29-6"><a href="#cb29-6" tabindex="-1"></a><span class="co">    :param b: Second number.</span></span>
<span id="cb29-7"><a href="#cb29-7" tabindex="-1"></a><span class="co">    :return: The product of a and b.</span></span>
<span id="cb29-8"><a href="#cb29-8" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb29-9"><a href="#cb29-9" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">*</span> b</span></code></pre>
</div>
<ol start="2" style="list-style-type: decimal">
<li>In the file <code>conf.py</code> modify extensions and add 3
lines:</li>
</ol>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a>extensions <span class="op">=</span> [<span class="st">'myst_parser'</span>, <span class="st">"autodoc2"</span>]</span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a></span>
<span id="cb30-3"><a href="#cb30-3" tabindex="-1"></a>autodoc2_packages <span class="op">=</span> [</span>
<span id="cb30-4"><a href="#cb30-4" tabindex="-1"></a>    <span class="st">"multiply.py"</span></span>
<span id="cb30-5"><a href="#cb30-5" tabindex="-1"></a>]</span></code></pre>
</div>
<ol start="4" style="list-style-type: decimal">
<li>List <code>apidocs/index</code> in the toctree in
<code>index.rst</code>.</li>
</ol>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">RST<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode rst" tabindex="0"><code class="sourceCode rest"><span id="cb31-1"><a href="#cb31-1" tabindex="-1"></a><span class="dt">.. toctree::</span></span>
<span id="cb31-2"><a href="#cb31-2" tabindex="-1"></a>   <span class="fu">:maxdepth:</span> 2</span>
<span id="cb31-3"><a href="#cb31-3" tabindex="-1"></a>   <span class="fu">:caption:</span> Contents:</span>
<span id="cb31-4"><a href="#cb31-4" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" tabindex="-1"></a>   some-feature.md</span>
<span id="cb31-6"><a href="#cb31-6" tabindex="-1"></a>   apidocs/index</span></code></pre>
</div>
<ol start="5" style="list-style-type: decimal">
<li>Re-build the documentation and check the API reference
section.</li>
</ol>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="deploying-documentation-using-github-pages">Deploying documentation using Github pages<a class="anchor" aria-label="anchor" href="#deploying-documentation-using-github-pages"></a>
</h3>
<ul>
<li>GitHub pages can be setup inside your GitHub repository</li>
<li>It automatically deploys your Sphinx-generated documentation. Or in
other words it creates a website for you that renders your
documentation.</li>
</ul>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Depending on the purpose and state of the project documentation
needs to meet different criteria.</li>
<li>Good README files provide a good landing place for anyone that is
new to your project.</li>
<li>Comments should describe the why for your code not the what.</li>
<li>Writing docstrings can be a good way to write documentation while
you type code since it also makes it possible to query that information
from outside the code or to auto-generate documentation pages.</li>
<li>There are various tools for generating and deploying documentations
which translate a set of plain text sources into various output
formats.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div>
</section></section><section id="aio-4-testing"><p>Content from <a href="4-testing.html">Testing</a></p>
<hr>
<p>Last updated on 2025-01-20 |

        <a href="https://github.com/esciencecenter-digital-skills/good-practices-lesson/edit/main/episodes/4-testing.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>Why should I write automated tests for my code?</li>
<li>How do I write a good unit test?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Use <code>pytest</code> to write and run unit tests</li>
<li>Understand that testing has many forms.</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="basics-of-testing">Basics of testing<a class="anchor" aria-label="anchor" href="#basics-of-testing"></a>
</h2>
<hr class="half-width">
<p>Follow <a href="https://esciencecenter-digital-skills.github.io/digital-skills-slides/modules/good-practices-lesson/testing-slides" class="external-link">these
slides</a> to understand the basics of testing.</p>
<p>The first step toward getting the right answers from our programs is
to assume that mistakes <em>will</em> happen and to guard against them.
This is called <strong>defensive programming</strong> and the most
common way to do it is to add alarms and tests into our code so that it
checks itself.</p>
<p><strong>Testing</strong> should be a seamless part of scientific
software development process. This is analogous to experiment design in
the experimental science world:</p>
<ul>
<li>At the beginning of a new project, tests can be used to help guide
the overall architecture of the project.</li>
<li>The act of writing tests can help clarify how the software should be
perform when you are done.</li>
<li>In fact, starting to write the tests <em>before</em> you even write
the software might be advisable. Such a practice is called
<em>test-driven development</em>.</li>
</ul></section><section><h2 class="section-heading" id="tests-types">Tests types<a class="anchor" aria-label="anchor" href="#tests-types"></a>
</h2>
<hr class="half-width">
<p>There are many ways to test software, such as:</p>
<ul>
<li>Assertions</li>
<li>Exceptions</li>
<li>Unit Tests</li>
<li>Integration Tests</li>
</ul>
<p><em>Exceptions and Assertions</em>: While writing code,
<code>exceptions</code> and <code>assertions</code> can be added to
sound an alarm as runtime problems come up. These kinds of tests, are
embedded in the software itself and handle, as their name implies,
exceptional cases rather than the norm.</p>
<p><em>Unit Tests</em>: Unit tests investigate the behavior of units of
code (such as functions, classes, or data structures), ideally the
smallest possible units. By validating each software unit across the
valid range of its input and output parameters, tracking down unexpected
behavior that may appear when the units are combined is made vastly
simpler.</p>
<p><em>Integration Tests</em>: Integration tests check that various
pieces of the software work together as expected. They can be both on
small scales, or system wide.</p>
<div id="how-much-testing-is-enough" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="how-much-testing-is-enough" class="callout-inner">
<h3 class="callout-title">How much testing is enough?</h3>
<div class="callout-content">
<p>Possible tests metrics are:</p>
<ul>
<li>Lines of code.</li>
<li>Test coverage <a href="https://sonarcloud.io/component_measures?id=eWaterCycle_ewatercycle&amp;metric=coverage&amp;view=treemap&amp;selected=eWaterCycle_ewatercycle%3Aewatercycle" class="external-link">example</a>:
to check to which extent the software is being coverted by the
tests.</li>
</ul>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="pytest">PyTest<a class="anchor" aria-label="anchor" href="#pytest"></a>
</h2>
<hr class="half-width">
<p>Currently, <a href="docs.pytest.org">PyTest</a> is the recommended
Python testing framework. Lets see how it can be used to run the
tests.</p>
<p>First, create a directory and navigate into it:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">mkdir</span> pytest-example</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="bu">cd</span> pytest-example</span></code></pre>
</div>
<p>Then, create a file <code>example.py</code> containing an example
test. You can use for favourite text editor for creating the file:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">nano</span> example.py</span></code></pre>
</div>
<p>And then, in the file, type:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a><span class="kw">def</span> add(a, b):</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>   <span class="cf">return</span> a <span class="op">+</span> b</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a> </span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a> </span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a><span class="kw">def</span> test_add():  <span class="co"># Special name!</span></span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a>    <span class="cf">assert</span> add(<span class="dv">2</span>, <span class="dv">3</span>) <span class="op">==</span> <span class="dv">5</span>  <span class="co"># What's `assert`? </span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a>    <span class="cf">assert</span> add(<span class="st">'space'</span>, <span class="st">'ship'</span>) <span class="op">==</span> <span class="st">'spaceship'</span></span></code></pre>
</div>
<div id="whats-assert" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="whats-assert" class="callout-inner">
<h3 class="callout-title">Whats assert?</h3>
<div class="callout-content">
<p>Assertions are the simplest type of test. They are used as a tool for
bounding acceptable behavior during runtime. The assert keyword in
python has the following behavior:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="cf">assert</span> <span class="dv">1</span><span class="op">==</span><span class="dv">1</span>  <span class="co"># passes</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a><span class="cf">assert</span> <span class="dv">1</span><span class="op">==</span><span class="dv">2</span>  <span class="co"># throws error:</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
AssertionError</code></pre>
</div>
<p>That is, assertions raise an <code>AssertionError</code> if the
comparison is false. It does nothing at all if the comparison is true.
Assertions are therefore a simple way of writing tests.</p>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="cf">assert</span> mean([<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">3</span>]) <span class="op">==</span> <span class="dv">2</span></span></code></pre>
</div>
</div>
</div>
</div>
<p>Activate your conda environment:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" tabindex="-1"></a><span class="ex">conda</span> activate goodpractices</span></code></pre>
</div>
<p>Check the version of <code>pytest</code>:</p>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" tabindex="-1"></a><span class="ex">pytest</span> <span class="at">--version</span></span></code></pre>
</div>
<p>Finally, run the test:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>pytest example.py
======================== test session starts ========================
platform linux -- Python 3.6.9, pytest-7.0.1, pluggy-1.0.0
rootdir: /home/ole/Desktop/pytest-texample
collected 1 item

example.py .                                                  [100%]

========================= 1 passed in 0.00s =========================
</code></pre>
</div>
<p>When <code>pytest</code> is run, it will search all directories below
where it was called, find all of the Python files in these directories
whose names start or end with <code>test</code>, import them, and run
all of the functions and classes whose names start with
<code>test</code> or <code>Test</code>. This automatic registration of
test code saves tons of human time and allows us to focus on what is
important: writing more tests.</p>
<p>When you run <code>pytest</code>, it will print a dot
(<code>.</code>) on the screen for every test that passes, an
<code>F</code> for every test that fails or where there was an
unexpected error. The tests pass when they do not throw errors. In rarer
situations you may also see an <code>s</code> indicating a skipped tests
(because the test is not applicable on your system) or a <code>x</code>
for a known failure (because the developers fixed the problem shown in
the test). After the dots, pytest will print summary information.</p>
<div id="tests-collection" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="tests-collection" class="callout-inner">
<h3 class="callout-title">Tests collection</h3>
<div class="callout-content">
<p>If you do <code>pytest dir</code>, the <code>pytest</code> package
sniffs-out the tests in the directory and ran them together to produce
a report of the sum of the files and functions matching the regular
expression <code>[Tt]est[-_]*</code>.</p>
</div>
</div>
</div>
<p>What happens if we break the test on purpose?</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="kw">def</span> add(a, b):</span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">-</span> b  <span class="co"># Uh oh, mistake! </span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a> </span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a> </span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="kw">def</span> test_add():</span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a>    <span class="cf">assert</span> add(<span class="dv">2</span>, <span class="dv">3</span>) <span class="op">==</span> <span class="dv">5</span></span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a>    <span class="cf">assert</span> add(<span class="st">'space'</span>, <span class="st">'ship'</span>) <span class="op">==</span> <span class="st">'spaceship'</span></span></code></pre>
</div>
<p>Lets save the edits and run <code>pytest</code> again:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>======================== test session starts =========================
platform linux -- Python 3.6.9, pytest-7.0.1, pluggy-1.0.0
rootdir: /home/ole/Desktop/pytest-texample
collected 1 item

example.py F                                                   [100%]

============================== FAILURES ==============================
______________________________ test_add ______________________________

    def test_add():
&gt;       assert add(2, 3) == 5
E       assert -1 == 5
E        +  where -1 = add(2, 3)

example.py:6: AssertionError</code></pre>
</div>
<p>You can notice that functions fail on the first error, but
<strong>all test functions are executed</strong>.</p>
<div id="pure-vs-impure-functions" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="pure-vs-impure-functions" class="callout-inner">
<h3 class="callout-title">Pure vs impure functions</h3>
<div class="callout-content">
<p><strong>Pure functions</strong> are deterministic, have a return
value, have no side effects[1], and have referential transparency[2].
Thus, pure functions are easy to understand and test.</p>
<p>[1] Side effects: interactions of a function with its surroundings.
[2] Replacing a function call with the return of that function should
not change anything.</p>
<p>Examples of pure functions:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="kw">def</span> last(my_array):</span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a>    <span class="cf">return</span> my_array[<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb12-3"><a href="#cb12-3" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" tabindex="-1"></a><span class="kw">def</span> add(a, b):</span>
<span id="cb12-5"><a href="#cb12-5" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">+</span> b</span></code></pre>
</div>
<p>On the other hand, impure functions can be both intuitive:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" tabindex="-1"></a>my_list <span class="op">=</span> []</span>
<span id="cb13-2"><a href="#cb13-2" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" tabindex="-1"></a><span class="kw">def</span> append_to_my_list(item):</span>
<span id="cb13-4"><a href="#cb13-4" tabindex="-1"></a>    my_list.append(item)</span>
<span id="cb13-5"><a href="#cb13-5" tabindex="-1"></a></span>
<span id="cb13-6"><a href="#cb13-6" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" tabindex="-1"></a><span class="kw">def</span> read_data(file_name):</span>
<span id="cb13-8"><a href="#cb13-8" tabindex="-1"></a>    <span class="cf">return</span> pd.read_csv(file_name)</span>
<span id="cb13-9"><a href="#cb13-9" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" tabindex="-1"></a></span>
<span id="cb13-11"><a href="#cb13-11" tabindex="-1"></a><span class="kw">def</span> get_random_number(number):</span>
<span id="cb13-12"><a href="#cb13-12" tabindex="-1"></a>    <span class="cf">return</span> random.random()</span></code></pre>
</div>
<p>And not so intuitive:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="kw">def</span> hello(name):</span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Hello"</span>, name)</span>
<span id="cb14-3"><a href="#cb14-3" tabindex="-1"></a></span>
<span id="cb14-4"><a href="#cb14-4" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" tabindex="-1"></a>nums <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>]</span>
<span id="cb14-6"><a href="#cb14-6" tabindex="-1"></a></span>
<span id="cb14-7"><a href="#cb14-7" tabindex="-1"></a><span class="kw">def</span> append(a_list, item):</span>
<span id="cb14-8"><a href="#cb14-8" tabindex="-1"></a>    a_list <span class="op">+=</span> [item]</span>
<span id="cb14-9"><a href="#cb14-9" tabindex="-1"></a>    <span class="cf">return</span> a_list</span>
<span id="cb14-10"><a href="#cb14-10" tabindex="-1"></a></span>
<span id="cb14-11"><a href="#cb14-11" tabindex="-1"></a><span class="bu">print</span>(nums)            <span class="co"># [1, 2]</span></span>
<span id="cb14-12"><a href="#cb14-12" tabindex="-1"></a><span class="bu">print</span>(append(nums, <span class="dv">3</span>)) <span class="co"># [1, 2, 3]</span></span>
<span id="cb14-13"><a href="#cb14-13" tabindex="-1"></a><span class="bu">print</span>(nums)            <span class="co"># [1, 2, 3] </span></span></code></pre>
</div>
<p>Some side effects can be indeed necessary or hard to spot.</p>
<p>Use pure functions when possible </p>
</div>
</div>
</div>
<div id="test-driven-development-fizzbuzz-function-15-min" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="test-driven-development-fizzbuzz-function-15-min" class="callout-inner">
<h3 class="callout-title">Test-Driven Development: FizzBuzz Function (15 min)</h3>
<div class="callout-content">
<p>The function <code>fizz_buzz()</code> takes an integer argument and
returns it, BUT:</p>
<ul>
<li>Fails on zero or negative numbers.</li>
<li>Instead returns Fizz on multiples of 3.</li>
<li>Instead returns Buzz on multiples of 5.</li>
<li>Instead returns FizzBuzz on multiples of 3 and 5.</li>
</ul>
<p>Create an empty function <code>fizz_buzz()</code> and go through the
conditions listed above, one by one:</p>
<ol style="list-style-type: decimal">
<li>Write a test for the condition.</li>
<li>Edit the <code>fizz_buzz()</code> function until the test
passes.</li>
</ol>
<p>Then discuss together the different solutions.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1"> Show me the solution </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" aria-labelledby="headingSolution1" data-bs-parent="#accordionSolution1">
<div class="accordion-body">
<p>Here is a potential solution:</p>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="im">import</span> pytest</span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a><span class="kw">def</span> fizz_buzz(<span class="bu">input</span>):</span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">input</span> <span class="op">&lt;=</span> <span class="dv">0</span>:</span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">'Negative or zero input not allowed'</span>)</span>
<span id="cb15-6"><a href="#cb15-6" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">input</span> <span class="op">%</span> <span class="dv">3</span> <span class="op">==</span> <span class="dv">0</span> <span class="kw">and</span> <span class="bu">input</span> <span class="op">%</span> <span class="dv">5</span> <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb15-7"><a href="#cb15-7" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">'FizzBuzz'</span></span>
<span id="cb15-8"><a href="#cb15-8" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">input</span> <span class="op">%</span> <span class="dv">3</span> <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb15-9"><a href="#cb15-9" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">'Fizz'</span></span>
<span id="cb15-10"><a href="#cb15-10" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">input</span> <span class="op">%</span> <span class="dv">5</span> <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb15-11"><a href="#cb15-11" tabindex="-1"></a>        <span class="cf">return</span> <span class="st">'Buzz'</span></span>
<span id="cb15-12"><a href="#cb15-12" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">input</span></span>
<span id="cb15-13"><a href="#cb15-13" tabindex="-1"></a></span>
<span id="cb15-14"><a href="#cb15-14" tabindex="-1"></a><span class="kw">def</span> test_fizz_buzz():</span>
<span id="cb15-15"><a href="#cb15-15" tabindex="-1"></a>    <span class="cf">with</span> pytest.raises(<span class="pp">ValueError</span>):</span>
<span id="cb15-16"><a href="#cb15-16" tabindex="-1"></a>        fizz_buzz(<span class="dv">0</span>)</span>
<span id="cb15-17"><a href="#cb15-17" tabindex="-1"></a>    <span class="cf">with</span> pytest.raises(<span class="pp">ValueError</span>):</span>
<span id="cb15-18"><a href="#cb15-18" tabindex="-1"></a>        fizz_buzz(<span class="op">-</span><span class="dv">2</span>)</span>
<span id="cb15-19"><a href="#cb15-19" tabindex="-1"></a>    <span class="cf">assert</span> fizz_buzz(<span class="dv">1</span>) <span class="op">==</span> <span class="dv">1</span></span>
<span id="cb15-20"><a href="#cb15-20" tabindex="-1"></a>    <span class="cf">assert</span> fizz_buzz(<span class="dv">3</span>) <span class="op">==</span> <span class="st">'Fizz'</span></span>
<span id="cb15-21"><a href="#cb15-21" tabindex="-1"></a>    <span class="cf">assert</span> fizz_buzz(<span class="dv">4</span>) <span class="op">==</span> <span class="dv">4</span></span>
<span id="cb15-22"><a href="#cb15-22" tabindex="-1"></a>    <span class="cf">assert</span> fizz_buzz(<span class="dv">5</span>) <span class="op">==</span> <span class="st">'Buzz'</span></span>
<span id="cb15-23"><a href="#cb15-23" tabindex="-1"></a>    <span class="cf">assert</span> fizz_buzz(<span class="dv">6</span>) <span class="op">==</span> <span class="st">'Fizz'</span></span>
<span id="cb15-24"><a href="#cb15-24" tabindex="-1"></a>    <span class="cf">assert</span> fizz_buzz(<span class="dv">10</span>) <span class="op">==</span> <span class="st">'Buzz'</span></span>
<span id="cb15-25"><a href="#cb15-25" tabindex="-1"></a>    <span class="cf">assert</span> fizz_buzz(<span class="dv">15</span>) <span class="op">==</span> <span class="st">'FizzBuzz'</span></span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Tests are meant for preserving functionality by detecting new errors
early and facilitating reproducibility for research software.</li>
<li>Tests can help users in verifying correct installation and improving
correctness for research output.</li>
<li>Tests enable developers to make refactoring easier and simplify
external contributions.</li>
<li>Test-Driven Development (TDD) is an optional tool in your
toolbox.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-5-ci"><p>Content from <a href="5-ci.html">Continuous Integration</a></p>
<hr>
<p>Last updated on 2025-01-20 |

        <a href="https://github.com/esciencecenter-digital-skills/good-practices-lesson/edit/main/episodes/5-ci.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>How can we implement automatic testing each time we push changes to
the repository?</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>Set up Continuous Integration using GitHub Actions</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="introducing-continuous-integration">Introducing Continuous integration<a class="anchor" aria-label="anchor" href="#introducing-continuous-integration"></a>
</h2>
<hr class="half-width">
<p>Follow <a href="https://esciencecenter-digital-skills.github.io/digital-skills-slides/modules/good-practices-lesson/ci-slides" class="external-link">these
slides</a> to understand the basics of continuous integration.</p>
</section><section><h2 class="section-heading" id="full-cycle-collaborative-workflow">Full-cycle collaborative workflow<a class="anchor" aria-label="anchor" href="#full-cycle-collaborative-workflow"></a>
</h2>
<hr class="half-width">
<div id="exercise-full-cycle-collaborative-workflow" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div id="exercise-full-cycle-collaborative-workflow" class="callout-inner">
<h3 class="callout-title">Exercise: Full-cycle collaborative workflow</h3>
<div class="callout-content">
<p>The exercise takes 30-40 minutes.</p>
<p>In this exercise, everybody will:</p>
<ul>
<li>A. Set up automated tests with GitHub Actions</li>
<li>B. Make test fail / find a bug in their repository</li>
<li>C. Open an issue in their repository</li>
<li>D. Then each one will clone the repo of one of their exercise
partners, fix the bug, and open a pull request (GitHub)</li>
<li>E. Everybody then merges their co-workers change</li>
</ul>
<div class="section level4">
<h4 id="step-1-create-a-new-repository-on-github">Step 1: Create a new repository on GitHub<a class="anchor" aria-label="anchor" href="#step-1-create-a-new-repository-on-github"></a>
</h4>
<ul>
<li>Select a different repository name than your colleagues (otherwise
forking the same name will be strange)</li>
<li>Before you create the repository, select Initialize this repository
with a README (otherwise you try to clone an empty repo).</li>
<li>Share the repository URL with your exercise group via shared
document or chat</li>
</ul>
</div>
<div class="section level4">
<h4 id="step-2-clone-your-own-repository-add-code-commit-and-push">Step 2: Clone your own repository, add code, commit, and push<a class="anchor" aria-label="anchor" href="#step-2-clone-your-own-repository-add-code-commit-and-push"></a>
</h4>
<p>Clone the repository.</p>
<p>Add a file <code>example.py</code> containing:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="kw">def</span> add(a, b):</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">+</span> b</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a><span class="kw">def</span> subtract(a, b):</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>    <span class="cf">return</span> a <span class="op">+</span> b  <span class="co"># do not change this line until prompted to do so.</span></span></code></pre>
</div>
<p>Write a test function <code>def test_add()</code> for
<code>add</code> to check that this function is working properly. Do NOT
add a test function for <code>subtract</code> (yet). Run pytest to
ensure it works</p>
<p>Then stage the file (<code>git add &lt;filename&gt;</code>), commit
(<code>git commit -m "some commit message"</code>), and push the changes
(<code>git push</code>).</p>
</div>
<div class="section level4">
<h4 id="step-3-enable-automated-testing">Step 3: Enable automated testing<a class="anchor" aria-label="anchor" href="#step-3-enable-automated-testing"></a>
</h4>
<p>In this step we will enable GitHub Actions. - Select Actions from
your GitHub repository page. You get to a page Get started with GitHub
Actions. - Select the button for Set up this workflow under Python
Application.</p>
<p><img src="fig/ci-python-application-workflow.png" class="figure"> Select Python
application as the starter workflow.</p>
<p>GitHub creates the following file for you in the subfolder
<code>.github/workflows</code>:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">YAML<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode yaml" tabindex="0"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># This workflow will install Python dependencies, run tests and lint with a single version of Python</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="co"># For more information see: https://help.github.com/actions/language-and-framework-guides/using-python-with-github-actions</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a><span class="fu">name</span><span class="kw">:</span><span class="at"> Python application</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="fu">on</span><span class="kw">:</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a><span class="at">  </span><span class="fu">push</span><span class="kw">:</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a><span class="at">    </span><span class="fu">branches</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> main </span><span class="kw">]</span></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a><span class="at">  </span><span class="fu">pull_request</span><span class="kw">:</span></span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a><span class="at">    </span><span class="fu">branches</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at"> main </span><span class="kw">]</span></span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a><span class="fu">jobs</span><span class="kw">:</span></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a><span class="at">  </span><span class="fu">build</span><span class="kw">:</span></span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a></span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a><span class="at">    </span><span class="fu">runs-on</span><span class="kw">:</span><span class="at"> ubuntu-latest</span></span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a><span class="at">    </span><span class="fu">steps</span><span class="kw">:</span></span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> actions/checkout@v2</span></span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Set up Python 3.9</span></span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a><span class="at">      </span><span class="fu">uses</span><span class="kw">:</span><span class="at"> actions/setup-python@v2</span></span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a><span class="at">      </span><span class="fu">with</span><span class="kw">:</span></span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a><span class="at">        </span><span class="fu">python-version</span><span class="kw">:</span><span class="at"> </span><span class="fl">3.9</span></span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Install dependencies</span></span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a><span class="fu">      run</span><span class="kw">: </span><span class="ch">|</span></span>
<span id="cb2-25"><a href="#cb2-25" tabindex="-1"></a>        python -m pip install --upgrade pip</span>
<span id="cb2-26"><a href="#cb2-26" tabindex="-1"></a>        pip install flake8 pytest</span>
<span id="cb2-27"><a href="#cb2-27" tabindex="-1"></a>        if [ -f requirements.txt ]; then pip install -r requirements.txt; fi</span>
<span id="cb2-28"><a href="#cb2-28" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Lint with flake8</span></span>
<span id="cb2-29"><a href="#cb2-29" tabindex="-1"></a><span class="fu">      run</span><span class="kw">: </span><span class="ch">|</span></span>
<span id="cb2-30"><a href="#cb2-30" tabindex="-1"></a>        # stop the build if there are Python syntax errors or undefined names</span>
<span id="cb2-31"><a href="#cb2-31" tabindex="-1"></a>        flake8 . --count --select=E9,F63,F7,F82 --show-source --statistics</span>
<span id="cb2-32"><a href="#cb2-32" tabindex="-1"></a>        # exit-zero treats all errors as warnings. The GitHub editor is 127 chars wide</span>
<span id="cb2-33"><a href="#cb2-33" tabindex="-1"></a>        flake8 . --count --exit-zero --max-complexity=10 --max-line-length=127 --statistics</span>
<span id="cb2-34"><a href="#cb2-34" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Test with pytest</span></span>
<span id="cb2-35"><a href="#cb2-35" tabindex="-1"></a><span class="fu">      run</span><span class="kw">: </span><span class="ch">|</span></span>
<span id="cb2-36"><a href="#cb2-36" tabindex="-1"></a>        pytest</span></code></pre>
</div>
<p>Commit the change by pressing the Start Commit button.</p>
</div>
<div class="section level4">
<h4 id="step-4-verify-that-tests-have-been-automatically-run">Step 4: Verify that tests have been automatically run<a class="anchor" aria-label="anchor" href="#step-4-verify-that-tests-have-been-automatically-run"></a>
</h4>
<p>Observe in the repository how the test succeeds. While the test is
executing, the repository has a yellow marker. This is replaced with a
green check mark, once the test succeeds.</p>
<figure><img src="fig/ci-tests-succeed-screenshot.png" class="figure mx-auto d-block"></figure><p>Green check means passed.</p>
<p>Also browse the Actions tab and look at the steps there and their
output.</p>
</div>
<div class="section level4">
<h4 id="step-5-add-a-test-which-reveals-a-problem">Step 5: Add a test which reveals a problem<a class="anchor" aria-label="anchor" href="#step-5-add-a-test-which-reveals-a-problem"></a>
</h4>
<p>After you committed the workflow file, your GitHub repository will be
ahead of your local cloned repository. Update your local cloned
repository:</p>
<pre><code>$ git pull origin main</code></pre>
<p>Next uncomment add a test function <code>test_subtract</code> for to
check that the <code>subtract</code> function can subtract two numbers
from each other, and push it to your remote repository. Verify that the
test suite now fails on the Actions tab (GitHub).</p>
</div>
<div class="section level4">
<h4 id="step-6-open-an-issue-on-github">Step 6: Open an issue on GitHub<a class="anchor" aria-label="anchor" href="#step-6-open-an-issue-on-github"></a>
</h4>
<p>Open a new issue in your repository about the broken test (click the
Issues button on GitHub and write a title for the issue). The plan is
that your colleague will fix the issue through a pull request</p>
</div>
<div class="section level4">
<h4 id="step-7-fork-and-clone-the-repository-of-your-colleague">Step 7: Fork and clone the repository of your colleague<a class="anchor" aria-label="anchor" href="#step-7-fork-and-clone-the-repository-of-your-colleague"></a>
</h4>
<p>Fork the repository using the GitHub web interface. Make sure you
clone the fork after you have forked it. Do not clone your colleagues
repository directly.</p>
</div>
<div class="section level4">
<h4 id="step-8-fix-the-broken-test">Step 8: Fix the broken test<a class="anchor" aria-label="anchor" href="#step-8-fix-the-broken-test"></a>
</h4>
<p>Fix the function now and run pytest to check that it works. Then push
to <em>your fork</em>. Check whether the action now also passes.</p>
</div>
<div class="section level4">
<h4 id="step-9-open-a-pull-request-github">Step 9: Open a pull request (GitHub)<a class="anchor" aria-label="anchor" href="#step-9-open-a-pull-request-github"></a>
</h4>
<p>Then before accepting the pull request from your colleague, observe
how GitHub Actions automatically tested the code.</p>
<p>If you forgot to reference the issue number in the commit message,
you can still add it to the pull request:
<code>my pull request title, closes #NUMBEROFTHEISSUE</code></p>
</div>
<div class="section level4">
<h4 id="step-10">Step 10<a class="anchor" aria-label="anchor" href="#step-10"></a>
</h4>
<p>Observe how accepting the pull request automatically closes the issue
(provided the commit message or the pull request contained the correct
issue number).</p>
<p>Discuss whether this is a useful feature. And if it is, why do you
think is it useful?</p>
</div>
</div>
</div>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Key Points</h3>
<div class="callout-content">
<ul>
<li>Use GitHub Actions to automate checking your code each time you push
changes to the repository.</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/esciencecenter-digital-skills/good-practices-lesson/edit/main/README.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/esciencecenter-digital-skills/good-practices-lesson/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/esciencecenter-digital-skills/good-practices-lesson/" class="external-link">Source</a></p>
				<p><a href="https://github.com/esciencecenter-digital-skills/good-practices-lesson/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:training@esciencecenter.nl">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.11" class="external-link">sandpaper (0.16.11)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.5" class="external-link">varnish (1.0.5)</a></p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://esciencecenter-digital-skills.github.io/good-practices-lesson/aio.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "Modular code, documentation, testing, continuous integration",
  "name": "All in One View",
  "creativeWorkStatus": "active",
  "url": "https://esciencecenter-digital-skills.github.io/good-practices-lesson/aio.html",
  "identifier": "https://esciencecenter-digital-skills.github.io/good-practices-lesson/aio.html",
  "dateCreated": "2024-03-27",
  "dateModified": "2025-03-12",
  "datePublished": "2025-03-12"
}

  </script><script>
		feather.replace();
	</script>
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

